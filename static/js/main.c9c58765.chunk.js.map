{"version":3,"sources":["index.js","data/cardsData.js","model/card.js","model/game.js","constant/constants.js","model/wastePile.js","model/pileStack.js","components/cardView.js","components/faceDownCard.js","components/wastePileView.js","components/pile.js","components/pileContainer.js","components/pileStackView.js","components/foundationView.js","components/gameView.js","model/foundation.js"],"names":["cards","suit","number","color","unicode","Card","cardDetails","Object","classCallCheck","this","Game","wastePile","piles","foundations","deck","drawCard","numberOfCards","currentPile","nextPile","draggedCards","removeFaceUpCards","addFaceUpCards","addNewFaceUpCardToPile","getFaceUpCards","length","addFaceUpCard","card","foundation","addCard","pileNumber","removeTopCard","destinationPile","shiftDrawCards","push","cardSource","isAddableToFoundation","draggedCard","inPlaceCard","getRank","getColor","getTopCard","getSuit","_this","keys","reduce","acc","WastePile","wasteCards","drawCards","refillWasteCard","unshift","pop","getEmptyCard","shift","PileStack","faceUpCards","faceDownCards","forEach","splice","CardView","createCardView","react_default","a","createElement","draggable","onDragStart","props","onDragOver","onDrop","style","className","id","getUnicode","React","Component","FaceDownCard","onClick","WastePileView","createWastePileView","createFaceDownCardView","createFaceUpCardView","faceDownCard","getFaceUpCard","concat","cardView","Pile","PileContainer","allPiles","PileStackView","createStackPileView","map","index","createSinglePileView","pileContainer","pile","components_pile","_this2","count","getID","_this3","getFaceDownCards","FoundationView","createFoundationView","view","GameView","possibleConstructorReturn","getPrototypeOf","call","game","state","wastePileView","getWastePile","bind","getPiles","drag","allowDrop","drop","foundationView","getFoundations","pileStackView","setState","event","preventDefault","dataTransfer","setData","target","source","getData","destination","getCard","isDestinationWastePile","isDestinationFoundation","shiftCardToFoundation","shiftCardToPile","splitAndTake","isSourceWastePile","isSourcePile","pileNum","isDraggableCard","shiftCardFromWastePileToPile","numOfCards","sourcePile","shiftCardFromPileToPile","getPlace","split","data","Foundation","lodash","shuffle","cardsData","cardsOfPile","ReactDOM","render","gameView","document","getElementById"],"mappings":"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","file":"static/js/main.c9c58765.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport cardsData from \"./data/cardsData\";\nimport Card from \"./model/card\";\nimport Game from \"./model/game\";\nimport WastePile from \"./model/wastePile\";\nimport lodash from \"lodash\";\nimport PileStack from \"./model/pileStack\";\nimport GameView from \"./components/gameView\";\nimport Foundation from \"./model/foundation\";\nimport \"./index.css\";\n\nconst cards = lodash.shuffle(cardsData.map(card => new Card(card)));\n\nconst wastePileCards = cards.splice(0, 24);\nconst wastePile = new WastePile(wastePileCards);\n\nconst piles = {};\n\nfor (let index = 0; index < 7; index++) {\n  const cardsOfPile = cards.splice(0, index + 1);\n  const faceUpCards = [cardsOfPile.pop()];\n  piles[index] = new PileStack(faceUpCards, cardsOfPile);\n}\n\nconst foundations = {};\n\nfor (let index = 0; index < 4; index++) {\n  foundations[index] = new Foundation();\n}\n\nconst game = new Game(wastePile, piles, foundations);\n\nReactDOM.render(<GameView game={game} />, document.getElementById(\"root\"));\n","const cards = [\n    {\n      \"suit\": \"spade\",\n      \"number\": \"1\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A1}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"2\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A2}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"3\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A3}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"4\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A4}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"5\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A5}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"6\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A6}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"7\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A7}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"8\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A8}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"9\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0A9}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"10\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AA}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"11\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AB}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"12\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AD}\"\n    },\n    {\n      \"suit\": \"spade\",\n      \"number\": \"13\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0AE}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"1\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D1}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"2\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D2}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"3\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D3}\",\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"4\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D4}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"5\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D5}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"6\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D6}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"7\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D7}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"8\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D8}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"9\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0D9}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"10\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DA}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"11\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DB}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"12\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DD}\"\n    },\n    {\n      \"suit\": \"club\",\n      \"number\": \"13\",\n      \"color\": \"black\",\n      \"unicode\": \"\\u{1F0DE}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"1\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C1}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"2\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C2}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"3\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C3}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"4\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C4}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"5\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C5}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"6\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C6}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"7\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C7}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"8\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C8}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"9\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0C9}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"10\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CA}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"11\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CB}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"12\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CD}\"\n    },\n    {\n      \"suit\": \"diamond\",\n      \"number\": \"13\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0CE}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"1\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B1}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"2\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B2}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"3\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B3}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"4\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B4}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"5\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B5}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"6\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B6}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"7\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B7}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"8\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B8}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"9\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0B9}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"10\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0BA}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"11\",\n      \"color\": \"red\",\n      \"unicode\":  \"\\u{1F0BB}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"12\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0BD}\"\n    },\n    {\n      \"suit\": \"heart\",\n      \"number\": \"13\",\n      \"color\": \"red\",\n      \"unicode\": \"\\u{1F0BE}\"\n    }\n  ]\n\nexport default cards;","class Card{\n    constructor(cardDetails){\n        this.suit = cardDetails.suit;\n        this.number = cardDetails.number;\n        this.color = cardDetails.color;\n        this.unicode = cardDetails.unicode;\n    }\n\n    getUnicode(){\n        return this.unicode;\n    }\n\n    getColor(){\n        return this.color;\n    }\n\n    getRank(){\n        return +this.number;\n    }\n\n    getSuit(){\n        return this.suit;\n    }\n\n    static getEmptyCard(){\n        return new Card({\n            suit:\"none\",\n            number:\"0\",\n            color:\"grey\",\n            unicode:\"\\u{1F0A0}\"\n        })\n    }\n}\n\nexport default Card;","import { PLACE_WASTE_PILE, PLACE_PILE } from \"../constant/constants\";\n\nclass Game {\n  constructor(wastePile, piles, foundations) {\n    this.wastePile = wastePile;\n    this.piles = piles;\n    this.foundations = foundations;\n  }\n\n  getDeck() {\n    return this.deck;\n  }\n\n  getWastePile() {\n    return this.wastePile;\n  }\n\n  getPiles() {\n    return this.piles;\n  }\n\n  getFoundations() {\n    return this.foundations;\n  }\n\n  drawCard() {\n    this.wastePile.drawCard();\n  }\n\n  shiftCardFromPileToPile(numberOfCards, currentPile, nextPile) {\n    const draggedCards = this.piles[currentPile].removeFaceUpCards(numberOfCards);\n    this.piles[nextPile].addFaceUpCards(draggedCards);\n\n    this.addNewFaceUpCardToPile(currentPile);\n  }\n\n  addNewFaceUpCardToPile(currentPile) {\n    if (this.piles[currentPile].getFaceUpCards().length > 0) return;\n    this.piles[currentPile].addFaceUpCard();\n  }\n\n  addCardToFoundation(card, foundation) {\n    this.foundations[foundation].addCard(card);\n  }\n\n  addWastePileCardToPile(pileNumber) {\n    const card = this.wastePile.removeTopCard();\n    this.piles[pileNumber].addFaceUpCards([card]);\n  }\n\n  shiftCardFromWastePileToPile(destinationPile) {\n    const card = this.wastePile.shiftDrawCards();\n    this.piles[destinationPile].getFaceUpCards().push(card);\n  }\n\n  shiftCardToFoundation(card, foundation, cardSource, destinationPile) {\n    if (!this.isAddableToFoundation(card, this.foundations[foundation])) return;\n    if (cardSource === PLACE_PILE) {\n      this.piles[destinationPile].removeFaceUpCards(1);\n      this.addNewFaceUpCardToPile(destinationPile);\n    }\n    if (cardSource === PLACE_WASTE_PILE) this.wastePile.shiftDrawCards();\n    this.foundations[foundation].addCard(card);\n  }\n\n  isDraggableCard(draggedCard, inPlaceCard) {\n    if (inPlaceCard.getRank() === 0 && draggedCard.getRank() === 13) return true;\n    return (\n      draggedCard.getRank() === inPlaceCard.getRank() - 1 &&\n      draggedCard.getColor() !== inPlaceCard.getColor()\n    );\n  }\n\n  isAddableToFoundation(card, foundation) {\n    if (foundation.getTopCard().getRank() === 0) return card.getRank() === 1;\n    return (\n      card.getRank() === foundation.getTopCard().getRank() + 1 &&\n      card.getSuit() === foundation.getTopCard().getSuit()\n    );\n  }\n\n  hasWon() {\n    return Object.keys(this.foundations).reduce(\n      (foundation, acc) => (acc += this.foundations[foundation].length)\n    ) === 52;\n  }\n}\n\nexport default Game;\n","const FACE_DOWN_UNICODE = \"\\u{1F0A0}\";\nconst PLACE_PILE = \"pile\";\nconst PLACE_WASTE_PILE = \"waste-pile\";\nconst PLACE_FOUNDATION = \"foundation\";\n\nexport { FACE_DOWN_UNICODE, PLACE_FOUNDATION, PLACE_PILE, PLACE_WASTE_PILE}","import Card from \"./card\";\n\nclass WastePile {\n  constructor(cards) {\n    this.wasteCards = cards;\n    this.drawCards = [];\n  }\n\n  getFaceUpCard() {\n    if (this.drawCards.length === 0) {\n      this.drawCard();\n    }\n    return this.drawCards[0];\n  }\n\n  getWastePile() {\n    return this.wasteCards;\n  }\n\n  drawCard() {\n    if(this.wasteCards.length === 0) {\n      this.refillWasteCard();\n    }\n    this.drawCards.unshift(this.wasteCards.pop());\n  }\n\n  refillWasteCard(){\n    this.wasteCards = this.drawCards;\n    this.drawCards = [];\n    if(this.wasteCards.length === 0){\n      this.wasteCards.push(Card.getEmptyCard());\n    }\n  }\n\n  getDrawCards(){\n    return this.drawCards;\n  }\n\n  shiftDrawCards(){\n    return this.drawCards.shift();\n  }\n\n  removeTopCard() {\n    return this.drawCards.pop();\n  }\n}\n\nexport default WastePile;\n","import Card from \"./card\";\n\nclass PileStack {\n  constructor(faceUpCards, faceDownCards) {\n    this.faceUpCards = faceUpCards;\n    this.faceDownCards = faceDownCards;\n  }\n\n  getFaceUpCards() {\n    return this.faceUpCards;\n  }\n\n  getFaceDownCards() {\n    return this.faceDownCards;\n  }\n\n  addFaceUpCards(cards) {\n    cards.forEach(card => {\n      this.faceUpCards.push(card);\n    });\n  }\n\n  removeFaceUpCards(numberOfCards) {\n    return this.faceUpCards.splice(-numberOfCards);\n  }\n\n  addFaceUpCard() {\n    if(this.faceDownCards.length === 0){\n      this.faceDownCards.push(Card.getEmptyCard());\n      return;\n    }\n    this.faceUpCards.push(this.faceDownCards.pop());\n  }\n}\n\nexport default PileStack;\n","import React from \"react\";\n\nclass CardView extends React.Component {\n  render() {\n    return this.createCardView();\n  }\n\n  createCardView() {\n    return (\n      <div\n        draggable\n        onDragStart={this.props.onDragStart}\n        onDragOver={this.props.onDragOver}\n        onDrop={this.props.onDrop}\n        style={{ color: this.props.card.getColor() }}\n        className={\"card\" + \" \" + this.props.className}\n        id={this.props.id}\n      >\n        {this.props.card.getUnicode()}\n      </div>\n    );\n  }\n}\n\nexport default CardView;\n","import React from \"react\";\nimport { FACE_DOWN_UNICODE } from \"../constant/constants\";\n\nclass FaceDownCard extends React.Component {\n  render() {\n    return (\n      <div onClick={this.props.onClick} className={this.props.className}>\n        {FACE_DOWN_UNICODE}\n      </div>\n    );\n  }\n}\n\nexport default FaceDownCard;","import React from \"react\";\nimport CardView from \"./cardView\";\nimport FaceDownCard from \"./faceDownCard\";\n\nclass WastePileView extends React.Component {\n  render() {\n    return this.createWastePileView();\n  }\n\n  createWastePileView() {\n    return (\n      <div className=\"waste-pile\">\n        {this.createFaceDownCardView()}\n        {this.createFaceUpCardView()}\n      </div>\n    );\n  }\n\n  createFaceDownCardView() {\n    return (\n      <FaceDownCard onClick={this.props.onClick} className=\"card stable-card\"/>\n    );\n  }\n\n  createFaceUpCardView() {\n    const card= this.props.wastePile.getFaceUpCard();\n    const id =`waste-pile___${card.suit}_${card.color}_${card.number}_${\n      card.unicode\n    }`;\n    return (\n      <CardView\n        card={this.props.wastePile.getFaceUpCard()}\n        onDragStart={this.props.onDragStart}\n        onDragOver={this.props.onDragOver}\n        onDrop={this.props.onDrop}\n        id={id}\n        className=\"stable-card\"\n      />\n    );\n  }\n}\n\nexport default WastePileView;\n","import React from \"react\";\n\nclass Pile extends React.Component {\n  render() {\n    return (\n      <div className=\"pile\">\n        {this.props.faceUpCards}\n        {this.props.faceDownCards}\n      </div>\n    );\n  }\n}\n\nexport default Pile;\n","import React from \"react\";\n\nclass PileContainer extends React.Component {\n  render() {\n    return <div className=\"pile-container\">{this.props.allPiles}</div>;\n  }\n}\n\nexport default PileContainer;","import React from \"react\";\nimport CardView from \"./cardView\";\nimport FaceDownCard from \"./faceDownCard\";\nimport Pile from \"./pile\";\nimport PileContainer from \"./pileContainer\";\n\nclass PileStackView extends React.Component {\n  render() {\n    return this.createStackPileView();\n  }\n\n  createStackPileView() {\n    const allPiles = Object.keys(this.props.piles).map(index => {\n      return this.createSinglePileView(this.props.piles[index], index);\n    });\n\n    return <PileContainer allPiles={allPiles} />;\n  }\n\n  createSinglePileView(pile, pileNumber) {\n    return (\n      <Pile\n        faceUpCards={this.createFaceDownCardView(pile, pileNumber)}\n        faceDownCards={this.createFaceUpCardView(pile, pileNumber)}\n      />\n    );\n  }\n\n  createFaceUpCardView(pile, pileNumber) {\n    let count = pile.getFaceUpCards().length;\n    const view = pile.getFaceUpCards().map((card, index) => {\n      const id = this.getID(pileNumber, card, count, index);\n      return this.createCardView(card, id);\n    });\n    return view;\n  }\n\n  createFaceDownCardView(pile, pileNumber) {\n    const view = pile.getFaceDownCards().map((card, index) => {\n      if (card.getRank() === 0) {\n        const id = this.getID(pileNumber, card, 1, index);\n        return this.createCardView(card, id);\n      }\n      return <FaceDownCard className=\"card\" />;\n    });\n    return view;\n  }\n\n  createCardView(card, id) {\n    return (\n      <CardView\n        card={card}\n        className=\"faced-up-card\"\n        id={id}\n        onDragStart={this.props.onDragStart}\n        onDrop={this.props.onDrop}\n        onDragOver={this.props.onDragOver}\n      />\n    );\n  }\n\n  getID(pileNumber, card, count, index) {\n    return `pile_${pileNumber}_${count - index}_${card.suit}_${card.color}_${\n      card.number\n    }_${card.unicode}`;\n  }\n}\n\nexport default PileStackView;\n","import React from \"react\";\n\nclass FoundationView extends React.Component {\n  render() {\n    return this.createFoundationView();\n  }\n\n  createFoundationView() {\n    const view = Object.keys(this.props.foundations).map(index => {\n      return (\n        <div\n          id={\"foundation_\" + index}\n          className=\"card stable-card\"\n          onDragOver={this.props.onDragOver}\n          onDrop={this.props.onDrop}\n          style={{\"color\":this.props.foundations[index].getTopCard().getColor()}}\n        >\n          {this.props.foundations[index].getTopCard().getUnicode()}\n        </div>\n      );\n    });\n    return <div className=\"foundation\">{view}</div>;\n  }\n\n}\n\nexport default FoundationView;\n","import React from \"react\";\nimport WastePileView from \"./wastePileView\";\nimport PileStackView from \"./pileStackView\";\nimport FoundationView from \"./foundationView\";\nimport Card from \"../model/card\";\nimport { PLACE_PILE, PLACE_FOUNDATION, PLACE_WASTE_PILE } from \"../constant/constants\";\n\nclass GameView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.game = props.game;\n    this.state = { game: props.game };\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"header\">\n          <WastePileView\n            wastePile={this.game.getWastePile()}\n            onClick={this.drawCard.bind(this)}\n            piles={this.game.getPiles()}\n            onDragStart={this.drag.bind(this)}\n            onDragOver={this.allowDrop.bind(this)}\n            onDrop={this.drop.bind(this)}\n          />\n          <FoundationView\n            foundations={this.game.getFoundations()}\n            onDragOver={this.allowDrop.bind(this)}\n            onDrop={this.drop.bind(this)}\n          />\n        </div>\n        <PileStackView\n          piles={this.game.getPiles()}\n          onDragStart={this.drag.bind(this)}\n          onDragOver={this.allowDrop.bind(this)}\n          onDrop={this.drop.bind(this)}\n        />\n      </div>\n    );\n  }\n\n  drawCard() {\n    this.game.drawCard();\n    this.setState({ game: this.game });\n  }\n\n  allowDrop(event) {\n    event.preventDefault();\n  }\n\n  drag(event) {\n    event.dataTransfer.setData(\"text\", event.target.id);\n  }\n\n  drop(event) {\n    event.preventDefault();\n    const source = event.dataTransfer.getData(\"text\");\n    const destination = event.target.id;\n\n    const draggedCard = this.getCard(source);\n    const inPlaceCard = this.getCard(destination);\n    if(this.isDestinationWastePile(destination)) return;\n    return this.isDestinationFoundation(destination)\n      ? this.shiftCardToFoundation(source, destination, draggedCard)\n      : this.shiftCardToPile(source, destination, draggedCard, inPlaceCard);\n  }\n\n  shiftCardToFoundation(source, destination, draggedCard) {\n    const foundation = this.splitAndTake(destination, 1);\n    if (this.isSourceWastePile(source)) {\n      this.game.shiftCardToFoundation(draggedCard, foundation, PLACE_WASTE_PILE);\n    }\n    if (this.isSourcePile(source)) {\n      const pileNum = +this.splitAndTake(source, 1);\n      this.game.shiftCardToFoundation(draggedCard, foundation, PLACE_PILE, pileNum);\n    }\n    this.setState({ game: this.game });\n  }\n\n  shiftCardToPile(source, destination, draggedCard, inPlaceCard) {\n    if (!this.game.isDraggableCard(draggedCard, inPlaceCard)) return;\n    if (this.isSourceWastePile(source)) {\n      const pileNumber = +this.splitAndTake(destination, 1);\n      this.game.shiftCardFromWastePileToPile(pileNumber);\n    }\n    if (this.isSourcePile(source)) {\n      const numOfCards = +this.splitAndTake(source, 2);\n      const sourcePile = +this.splitAndTake(source, 1);\n      const destinationPile = +this.splitAndTake(destination, 1);\n      this.game.shiftCardFromPileToPile(numOfCards, sourcePile, destinationPile);\n    }\n    this.setState({ game: this.game });\n  }\n\n  isSourceWastePile(source) {\n    return this.getPlace(source) === PLACE_WASTE_PILE;\n  }\n\n  isSourcePile(source) {\n    return this.getPlace(source) === PLACE_PILE;\n  }\n\n  isDestinationFoundation(destination) {\n    return this.getPlace(destination) === PLACE_FOUNDATION;\n  }\n\n  isDestinationPile(destination) {\n    return this.isSourcePile(destination);\n  }\n\n  isDestinationWastePile(destination){\n    return this.getPlace(destination) === PLACE_WASTE_PILE;  \n  }\n\n  getPlace(id) {\n    return id.split(\"_\")[0];\n  }\n\n  splitAndTake(data, count) {\n    return data.split(\"_\")[count];\n  }\n\n  getCard(id) {\n    const suit = id.split(\"_\")[3];\n    const color = id.split(\"_\")[4];\n    const number = +id.split(\"_\")[5];\n    const unicode = id.split(\"_\")[6];\n\n    return new Card({ suit, color, number, unicode });\n  }\n}\n\nexport default GameView;\n","import Card from \"./card\";\n\nclass Foundation {\n  constructor() {\n    this.cards = [];\n  }\n\n  addCard(card) {\n    this.cards.push(card);\n  }\n\n  getCards() {\n    return this.cards;\n  }\n\n  getTopCard() {\n    if (this.cards.length === 0) {\n      return new Card({\n        suit: \"none\",\n        number: \"0\",\n        color: \"black\",\n        unicode: \"\\u{1F0A0}\"\n      });\n    }\n    \n    return this.cards[this.cards.length - 1];\n  }\n}\n\nexport default Foundation;\n"],"sourceRoot":""}